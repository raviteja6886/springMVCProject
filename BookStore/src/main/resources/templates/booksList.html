<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.com">

<head>
	<meta charset="ISO-8859-1">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Books list</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	
</head>

<body>

	<div th:insert="~{header :: nav}"></div>
	<br><br>
	<div class="container mt-3 mb-5 p-3">

		<h1 class="text-center mb-3">Books List</h1>
		
		<div th:if="${error}">
			<div class="text-danger">There are no Books available...</div>
		</div>
		<div th:unless="${error}">
			<table class="table table-light table-bordered table-striped">
				<thead class="text-center">
					<th>BookName</th>
					<th>AuthorName</th>
					<th>Price</th>
					<th>Actions</th>
				</thead>
		
				<tbody class="text-center">
					<tr th:each="book:${books}">
						
						<td th:text="${book.bookName}"></td>
						<td th:text="${book.authorName}"> </td>
						<td th:text="${book.price}"></td>
						<td>
							<a th:href="@{/saveBook/{id} (id=${book.id})}" class="btn btn-primary">add to Favourite</a>
							<a th:href="@{/booksList/{id}(id=${book.id})}" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#dltModal">delete</a>
							<a th:href="@{/booksList/edit/{id} (id=${book.id})}" class="btn btn-primary">Edit</a>
						</td>
		
						<!--modal for confirmation -->
		
						<div id="dltModal" class="modal fade">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<p> Alert!</p>
										<button class="btn-close" data-bs-dismiss="modal"></button>
									</div>
									<div class="modal-body">
										<p>Are you sure you want to delete this book ??</p>
									</div>
									<div class="modal-footer">
										<button class="btn btn-info" data-bs-dismiss="modal">cancel</button>
										<a class="btn btn-danger" th:href="@{/booksList/{id} (id=${book.id})}">ok</a>
									</div>
								</div>
							</div>
						</div>
					</tr>
				</tbody>
			</table>
		</div>
		</div>
	<br>
	<div th:insert="~{footer :: copy}" class="bg-dark text-light p-2 "></div>

</body>

</html>